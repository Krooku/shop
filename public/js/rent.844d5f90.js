(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["rent"],{"0068":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"car-info"},[a("p",[t._v(" "+t._s(t.car.model)+" "+t._s(t.car.band)+" ")]),a("p",[t._v(" "+t._s(t.car.registrationNumber)+" ")]),a("p",[t._v(" "+t._s(t.car.type)+" ")])]),a("p",{staticClass:"main-title"},[t._v(" Wprowadź niezbędne dane do stworzenia umowy najmu ")]),a("carousel",{attrs:{value:t.page,"per-page":1,"navigate-to":[t.page,!0],"pagination-enabled":!1,"mouse-drag":!1,"touch-drag":!1}},[a("slide",[a("form",{class:[0==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=1}}},[a("h3",{staticClass:"title"},[t._v(" Umowa najmu ")]),a("input-label",{attrs:{"label-text":"Nazwa/numer zlecenia",maxlength:24},model:{value:t.errandNumber,callback:function(e){t.errandNumber=e},expression:"errandNumber"}}),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Rozpocznij ")])],1)]),a("slide",[a("form",{class:[1==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=2}}},[a("p",{staticClass:"fas fa-user"}),a("input-label",{attrs:{"label-text":"Imię i nazwisko najemcy",maxlength:32},model:{value:t.client.fullname,callback:function(e){t.$set(t.client,"fullname",e)},expression:"client.fullname"}}),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Data urodzenia ")]),a("date-picker",{staticClass:"date",attrs:{"value-type":"format",placeholder:"Data urodzenia",required:""},model:{value:t.client.birthDate,callback:function(e){t.$set(t.client,"birthDate",e)},expression:"client.birthDate"}})],1),a("input-label",{attrs:{"label-text":"Miejsce urodzenia",maxlength:32},model:{value:t.client.birthPlace,callback:function(e){t.$set(t.client,"birthPlace",e)},expression:"client.birthPlace"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=0}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[2==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=3}}},[a("p",{staticClass:"fas fa-car"}),a("input-label",{attrs:{"label-text":"Numer prawa jazdy",maxlength:32},model:{value:t.client.driveLicense.number,callback:function(e){t.$set(t.client.driveLicense,"number",e)},expression:"client.driveLicense.number"}}),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Data wydania ")]),a("date-picker",{staticClass:"date",attrs:{"value-type":"format",placeholder:"Data wydania",required:""},model:{value:t.client.driveLicense.releaseDate,callback:function(e){t.$set(t.client.driveLicense,"releaseDate",e)},expression:"client.driveLicense.releaseDate"}})],1),a("input-label",{attrs:{"label-text":"Miejsce wydania",maxlength:32},model:{value:t.client.driveLicense.releasePlace,callback:function(e){t.$set(t.client.driveLicense,"releasePlace",e)},expression:"client.driveLicense.releasePlace"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=1}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[3==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=4}}},[a("p",{staticClass:"fas fa-id-card"}),a("input-label",{attrs:{"label-text":"Numer dowodu tożsamości",maxlength:32},model:{value:t.client.idCard.number,callback:function(e){t.$set(t.client.idCard,"number",e)},expression:"client.idCard.number"}}),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Data ważności ")]),a("date-picker",{staticClass:"date",attrs:{"value-type":"format",placeholder:"Data ważności",required:""},model:{value:t.client.idCard.expDate,callback:function(e){t.$set(t.client.idCard,"expDate",e)},expression:"client.idCard.expDate"}})],1),a("input-label",{attrs:{"label-text":"Miejsce wydania",maxlength:32},model:{value:t.client.idCard.releasePlace,callback:function(e){t.$set(t.client.idCard,"releasePlace",e)},expression:"client.idCard.releasePlace"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=2}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[4==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=5}}},[a("p",{staticClass:"fas fa-mobile-alt"}),a("input-label",{attrs:{"label-text":"Kod pocztowy",maxlength:32},model:{value:t.client.contact.zipCode,callback:function(e){t.$set(t.client.contact,"zipCode",e)},expression:"client.contact.zipCode"}}),a("input-label",{attrs:{"label-text":"Miasto",maxlength:32},model:{value:t.client.contact.city,callback:function(e){t.$set(t.client.contact,"city",e)},expression:"client.contact.city"}}),a("input-label",{attrs:{"label-text":"Ulica",maxlength:32},model:{value:t.client.contact.street,callback:function(e){t.$set(t.client.contact,"street",e)},expression:"client.contact.street"}}),a("input-label",{attrs:{"label-text":"Numer telefonu komórkowego",maxlength:32},model:{value:t.client.contact.phone,callback:function(e){t.$set(t.client.contact,"phone",e)},expression:"client.contact.phone"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=3}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[5==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){return e.preventDefault(),function(){t.page=6,t.rent.planningDate=t.formatDate(t.vm.insuranceCosts.maxRentDays)}()}}},[a("h3",{staticClass:"title"},[t._v(" Koszty, których pokrycie gwarantowane jest przez zleceniodawcę. ")]),a("input-label",{attrs:{"label-text":"Dni wynajmu","is-text":!1},model:{value:t.insuranceCosts.rentDays,callback:function(e){t.$set(t.insuranceCosts,"rentDays",e)},expression:"insuranceCosts.rentDays"}}),a("input-label",{attrs:{"label-text":"Maks dni wynajmu","is-text":!1},model:{value:t.insuranceCosts.maxRentDays,callback:function(e){t.$set(t.insuranceCosts,"maxRentDays",e)},expression:"insuranceCosts.maxRentDays"}}),a("input-label",{attrs:{"label-text":"Klasa samochodu"},model:{value:t.insuranceCosts.carClass,callback:function(e){t.$set(t.insuranceCosts,"carClass",e)},expression:"insuranceCosts.carClass"}}),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Podstawienie pojazdu ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.carSubstitution,expression:"insuranceCosts.carSubstitution"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.carSubstitution,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"carSubstitution","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.carSubstitution,expression:"insuranceCosts.carSubstitution"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.carSubstitution,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"carSubstitution","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Odbiór pojazdu ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.carReturn,expression:"insuranceCosts.carReturn"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.carReturn,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"carReturn","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.carReturn,expression:"insuranceCosts.carReturn"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.carReturn,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"carReturn","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Udział własny CDW(kolizja) ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.CDW,expression:"insuranceCosts.CDW"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.CDW,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"CDW","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.CDW,expression:"insuranceCosts.CDW"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.CDW,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"CDW","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Udział własny TW(kradzież) ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.TW,expression:"insuranceCosts.TW"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.TW,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"TW","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.TW,expression:"insuranceCosts.TW"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.TW,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"TW","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Kaucja ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.deposit,expression:"insuranceCosts.deposit"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.deposit,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"deposit","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.deposit,expression:"insuranceCosts.deposit"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.deposit,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"deposit","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("div",{staticClass:"radio-input"},[a("p",{staticClass:"content-name"},[t._v(" Brak limitu km ")]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.noKmLimit,expression:"insuranceCosts.noKmLimit"}],attrs:{type:"radio",value:"true"},domProps:{checked:t._q(t.insuranceCosts.noKmLimit,"true")},on:{change:function(e){return t.$set(t.insuranceCosts,"noKmLimit","true")}}}),a("label",{attrs:{for:"true"}},[t._v("Tak")])]),a("div",{staticClass:"input-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceCosts.noKmLimit,expression:"insuranceCosts.noKmLimit"}],attrs:{type:"radio",value:"false"},domProps:{checked:t._q(t.insuranceCosts.noKmLimit,"false")},on:{change:function(e){return t.$set(t.insuranceCosts,"noKmLimit","false")}}}),a("label",{attrs:{for:"false"}},[t._v("Nie")])])])]),a("input-label",{attrs:{"label-text":"Inne"},model:{value:t.insuranceCosts.other,callback:function(e){t.$set(t.insuranceCosts,"other",e)},expression:"insuranceCosts.other"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=4}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[6==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=7}}},[a("h3",{staticClass:"title"},[t._v(" Koszty, jakimi może zostać obciążony najemca(W PLN NETTO). ")]),a("input-label",{attrs:{"label-text":"Cena za każdą dodatkową dobę",min:0,"is-text":!1},model:{value:t.carCost.additionalDay,callback:function(e){t.$set(t.carCost,"additionalDay",e)},expression:"carCost.additionalDay"}}),a("input-label",{attrs:{"label-text":"Podstawienie/odbiór w mieście",min:0,"is-text":!1},model:{value:t.carCost.transportCity,callback:function(e){t.$set(t.carCost,"transportCity",e)},expression:"carCost.transportCity"}}),a("input-label",{attrs:{"label-text":"Podstawienie/odbiór poza miastem",min:0,"is-text":!1},model:{value:t.carCost.transportOutCity,callback:function(e){t.$set(t.carCost,"transportOutCity",e)},expression:"carCost.transportOutCity"}}),a("input-label",{attrs:{"label-text":"Udział własny CDW(kolizja)",min:0,"is-text":!1},model:{value:t.carCost.CDW,callback:function(e){t.$set(t.carCost,"CDW",e)},expression:"carCost.CDW"}}),a("input-label",{attrs:{"label-text":"Udział własny TW(kradzież)",min:0,"is-text":!1},model:{value:t.carCost.TW,callback:function(e){t.$set(t.carCost,"TW",e)},expression:"carCost.TW"}}),a("input-label",{attrs:{"label-text":"Uzupełnienie paliwa",min:0,"is-text":!1},model:{value:t.carCost.fuel,callback:function(e){t.$set(t.carCost,"fuel",e)},expression:"carCost.fuel"}}),a("input-label",{attrs:{"label-text":"Wynajem/zwrot poza godz. pracy",min:0,"is-text":!1},model:{value:t.carCost.transportOutWork,callback:function(e){t.$set(t.carCost,"transportOutWork",e)},expression:"carCost.transportOutWork"}}),a("input-label",{attrs:{"label-text":"Czyszczenie auta",min:0,"is-text":!1},model:{value:t.carCost.cleaning,callback:function(e){t.$set(t.carCost,"cleaning",e)},expression:"carCost.cleaning"}}),a("input-label",{attrs:{"label-text":"Zakaz palenia",min:0,"is-text":!1},model:{value:t.carCost.noSmoking,callback:function(e){t.$set(t.carCost,"noSmoking",e)},expression:"carCost.noSmoking"}}),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=5}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[7==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){e.preventDefault(),t.page=8}}},[a("h3",{staticClass:"title"},[t._v(" Informacje dot. wynajmu pojazdu. ")]),a("input-label",{attrs:{"label-text":"Miejsce wynajmu",maxlength:32},model:{value:t.rent.place,callback:function(e){t.$set(t.rent,"place",e)},expression:"rent.place"}}),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Data wynajmu ")]),a("date-picker",{staticClass:"date",attrs:{"value-type":"format",placeholder:t.rent.date,required:""},model:{value:t.rent.date,callback:function(e){t.$set(t.rent,"date",e)},expression:"rent.date"}})],1),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Godzina wynajmu ")]),a("date-picker",{staticClass:"date",attrs:{"minute-step":1,"hour-options":t.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:t.rentTime},model:{value:t.rentTime,callback:function(e){t.rentTime=e},expression:"rentTime"}})],1),a("input-label",{attrs:{"label-text":"Planowane miejsce zwrotu",maxlength:32},model:{value:t.rent.planningReturnPlace,callback:function(e){t.$set(t.rent,"planningReturnPlace",e)},expression:"rent.planningReturnPlace"}}),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Planowana data wynajmu ")]),a("date-picker",{staticClass:"date",attrs:{"value-type":"format",placeholder:t.rent.planningDate,required:""},model:{value:t.rent.planningDate,callback:function(e){t.$set(t.rent,"planningDate",e)},expression:"rent.planningDate"}})],1),a("div",{staticClass:"date-box"},[a("span",{staticClass:"content-name"},[t._v(" Planowana godzina zwrotu ")]),a("date-picker",{staticClass:"date",attrs:{"minute-step":1,"hour-options":t.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:t.returnTime},model:{value:t.returnTime,callback:function(e){t.returnTime=e},expression:"returnTime"}})],1),a("input-label",{attrs:{"label-text":"Kaucja","is-text":!1},model:{value:t.rent.deposit,callback:function(e){t.$set(t.rent,"deposit",e)},expression:"rent.deposit"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"type",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.role=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"rent",selected:""}},[t._v(" Wynajem ")]),a("option",{attrs:{value:"transport"}},[t._v(" Transport ")])]),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=6}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Dalej ")])])],1)]),a("slide",[a("form",{class:[8==t.page?t.activeClass:"",t.hiddenClass],on:{submit:function(e){return e.preventDefault(),t.insertErrand()}}},[a("h3",{staticClass:"title"},[t._v(" Podsumowanie. ")]),a("p",[t._v(" Czy chcesz dodać dodatkowego kierowcę? ")]),a("p",[t._v(" TAK NIE(TODO) ")]),a("p",[t._v(" Proszę sprawdzić poprawność wprowadzonych danych przemieszczając się po poszczególnych etapach tworzenia umowy najmu.")]),a("p",[t._v(" Użyj do tego przycisku wróc lub używaj kropek poniżej, które przemieszczą Cię w dowolnie wybrany etap.")]),t.error?a("div",{staticClass:"message message--error"},[t._v(" "+t._s(t.message)+" ")]):t.error?t._e():a("div",{staticClass:"message message--success"},[t._v(" "+t._s(t.message)+" ")]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.sigantureModal=!t.sigantureModal}}},[t._v(" Podpis najemcy ")]),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.page=7}}},[t._v(" Wróć ")]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(" Zakończ ")])])])])],1),t.sigantureModal?a("basic-modal",{on:{close:t.save}},[a("div",{staticStyle:{"max-width":"700px","max-height":"80vh","background-color":"while"}},[a("p",[t._v(" Potwierdzam, że zapoznałem się z warunkami najmu oraz z danymi podanymi do aplikacji i regulaminem, znajdującym się w odnośniku lub w fizycznej wersji podanej przez pracownika firmy TRANS-POL. ")]),a("p",[t._v(" Potwierdzam, że zobowiązuję się do zwrotu pojazdu w miejscu i czasie określonym warunkami, które zostały podane/wprowadzone/wysłane przy mnie lub na wyraźne żądanie Zleceniodawcy wynajmu i/lub Firmy TRANS-POL. ")]),a("p",[t._v(' Ewentualne przedłużenie wynajmu wymaga akceptacji ze strony Firmy TRANS-POL i wiąże się z dodatkowymi kosztami, wyszczególnionymi w etapie "Koszty, jakmimi może zostać obciążony najemca". ')]),a("p",[t._v(" Przyjmuję do wiadmości, że niezastosowanie się do zasad i zobowiązań będzie skutkowało powiadomieniem organów ścigania. ")]),a("p",[t._v(" TRANS-POL nie wyraża zgody na wyjazd pojazdu poza granice Polski ")]),a("p",[t._v(" Wyrażam zgodę na przetwarzanie moich danych osobowych Zgoda na przetwarzanie danych osobowych zgodnie z art. 13 ust. 1-2 rozporządzenia Parlamentu Europejskiego i Rady (UE) 2016/679 z 27.04.2016 r. w sprawie ochrony osób w sprawie swobodnego przepływu takich danych oraz uchylenia dyrektywy 95/46/WE (ogólne rozporządzenie o ochronie danych) (Dz.U UE L 119, s. 1) - dalej RODO. ")]),a("p",[t._v(" Podpis klienta ")]),a("VueSignaturePad",{ref:"signaturePad",attrs:{id:"signature",width:"300px",height:"300px",options:t.options}}),a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.undo}},[t._v(" Undo ")]),t.signatureIMG?a("div",[a("p",[t._v(" aktualnie podany podpis ")]),a("img",{attrs:{src:t.signatureIMG}})]):t._e()],1)]):t._e()],1)},n=[],i=a("a34a"),r=a.n(i),o=a("ec45"),l=(a("411c"),a("0a02")),c=a("448b"),u=a("0a63"),d=a("d722");function p(t,e,a,s,n,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(s,n)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(t){p(i,s,n,r,o,"next",t)}function o(t){p(i,s,n,r,o,"throw",t)}r(void 0)}))}}var v={components:{DatePicker:o["a"],BasicModal:l["a"],InputLabel:c["a"],Carousel:u["Carousel"],Slide:u["Slide"]},data:function(){return{activeClass:"form-container",hiddenClass:"hidden",page:0,stage:0,errandNumber:"",editModal:!1,carId:this.$route.params.carId,car:{},time1:null,time2:null,time3:null,cars:[],role:"rent",error:null,getWindowWidth:0,options:{penColor:"#c0f"},signatureIMG:null,client:{fullname:"",birthDate:null,birthPlace:"",driveLicense:{number:"",releaseDate:"",releasePlace:""},idCard:{number:"",expDate:null,releasePlace:""},contact:{zipCode:"",city:"",street:"",phone:""}},additionalDriver:{fullname:"",birthDate:null,driveLicense:{number:"",releaseDate:null,releasePlace:""}},insuranceCosts:{rentDays:1,maxRentDays:1,carClass:"",carSubstitution:!0,carReturn:!0,CDW:!1,TW:!1,deposit:!1,noKmLimit:!1,other:""},carCost:{additionalDay:150,transportCity:1,transportOutCity:10,CDW:2e3,TW:2e3,fuel:5,transportOutWork:10,cleaning:150,noSmoking:500},rent:{place:"",date:null,mileage:null,fuel:null,planningDate:null,planningReturnPlace:"",deposit:null,scratchs:[],signature:null},rentTime:null,returnTime:null,isSignature:!1,sigantureModal:!1}},beforeRouteEnter:function(){var t=m(r.a.mark((function t(e,a,s){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"].getCar(e.params.carId);case 2:if(n=t.sent,200===n.status){t.next=5;break}return t.abrupt("return",s({name:"homepage"}));case 5:s((function(t){t.rent.date=t.formatDate(),t.rentTime=t.formatTime(),t.rent.planningDate=t.formatDate(t.insuranceCosts.maxRentDays),t.returnTime=t.formatTime(),Object.assign(t.car,n.data),t.car=n.data,t.rent.mileage=t.car.mileage,t.rent.fuel=t.car.fuel,t.rent.scratchs=t.car.scratchs,t.insuranceCosts.carClass=t.car.type,t.carCost=t.car.carCostsId,delete t.carCost.name}));case 6:case"end":return t.stop()}}),t)})));function e(e,a,s){return t.apply(this,arguments)}return e}(),mounted:function(){this.$nextTick((function(){window.addEventListener("resize",this.getWindowWidth)}))},methods:{formatDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Date;e.setDate(e.getDate()+t);var a=""+(e.getMonth()+1),s=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[n,a,s].join("-")},formatTime:function(){var t=new Date;t.setDate(t.getDate());var e="",a=t.getHours(),s=t.getMinutes();return e+=a<10?"0"+a+":":a+":",e+=s<10?"0"+s:s,e},insertErrand:function(){var t=m(r.a.mark((function t(){var e,a,s,n,i;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isSignature){t.next=4;break}return this.error=!0,this.message="do stworzenia umowy najmu wymagany jest podpis clienta.",t.abrupt("return");case 4:return e=this.rentTime.split(":"),a=new Date(this.rent.date),a.setHours(e[0]),a.setMinutes(e[1]),this.rent.date=a,s=this.returnTime.split(":"),n=new Date(this.rent.planningDate),n.setHours(s[0]),n.setMinutes(s[1]),this.rent.planningDate=n,t.next=16,d["a"].insertErrand(this.carId,{errandNumber:this.errandNumber,employeeRented:this.$store.getters.username,isClearBefore:this.car.isClean,carCost:this.carCost,role:this.role,client:this.client,additionalDriver:this.additionalDriver,insuranceCosts:this.insuranceCosts,rent:this.rent});case 16:i=t.sent,200!==i.status?(this.error=!0,this.message=i.data.message):(this.error=!1,this.message="samochod zostal wynajety",this.$router.push({name:"rentalcontract",params:{errandId:i.data._id}}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),undo:function(){while(!this.$refs.signaturePad.isEmpty())this.$refs.signaturePad.undoSignature()},save:function(){this.sigantureModal=!1;var t=this.$refs.signaturePad.saveSignature(),e=t.isEmpty,a=t.data;e||(this.signatureIMG=a,this.rent.signature=a,this.isSignature=!0)},change:function(){this.options={penColor:"#00f"}},resume:function(){this.options={penColor:"#c0f"}}}},C=v,b=(a("a8ca"),a("2877")),f=Object(b["a"])(C,s,n,!1,null,null,null);e["default"]=f.exports},"0a02":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-modal"},[a("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}}),a("div",{staticClass:"content"},[a("div",{staticClass:"content__box",class:{wide:t.wide}},[a("div",{staticClass:"notification__close",on:{click:t.closeModal}},[a("i",{staticClass:"far fa-times-circle"})]),t._t("default")],2)])])},n=[],i={props:{wide:{type:Boolean,default:!1}},mounted:function(){var t=document.body;t.classList.add("modal-open")},methods:{closeModal:function(){this.$emit("close");var t=document.body;t.classList.remove("modal-open")}}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},"6a09":function(t,e,a){},a8ca:function(t,e,a){"use strict";var s=a("6a09"),n=a.n(s);n.a}}]);